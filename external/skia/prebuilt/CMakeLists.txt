cmake_minimum_required(VERSION 3.10)

add_library(skia_base STATIC IMPORTED GLOBAL)
add_library(skia_svg STATIC IMPORTED GLOBAL)
add_library(skia_shader STATIC IMPORTED GLOBAL)
add_library(skia_unicode STATIC IMPORTED GLOBAL)
add_library(skia_resource STATIC IMPORTED GLOBAL)
add_library(libexpat STATIC IMPORTED GLOBAL)

set_property(TARGET skia_base PROPERTY INTERFACE_INCLUDE_DIRECTORIES "${CMAKE_CURRENT_SOURCE_DIR};${CMAKE_CURRENT_SOURCE_DIR}/include;${CMAKE_CURRENT_SOURCE_DIR}/include/core;${CMAKE_CURRENT_SOURCE_DIR}/modules;${CMAKE_CURRENT_SOURCE_DIR}/src")

if (android)
    if (CMAKE_ANDROID_ARCH_ABI STREQUAL "armeabi-v7a")
        set_property(TARGET skia_base PROPERTY IMPORTED_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/android/armeabi-v7a/libskia.a)
        set_property(TARGET skia_svg PROPERTY IMPORTED_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/android/armeabi-v7a/libsvg.a)
        set_property(TARGET skia_shader PROPERTY IMPORTED_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/android/armeabi-v7a/libskshaper.a)
        set_property(TARGET skia_unicode PROPERTY IMPORTED_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/android/armeabi-v7a/libskunicode.a)
        set_property(TARGET skia_resource PROPERTY IMPORTED_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/android/armeabi-v7a/libskresources.a)
        set_property(TARGET libexpat PROPERTY IMPORTED_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/android/armeabi-v7a/libexpat.a)
    elseif (CMAKE_ANDROID_ARCH_ABI STREQUAL "arm64-v8a")
        set_property(TARGET skia_base PROPERTY IMPORTED_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/android/arm64-v8a/libskia.a)
        set_property(TARGET skia_svg PROPERTY IMPORTED_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/android/arm64-v8a/libsvg.a)
        set_property(TARGET skia_shader PROPERTY IMPORTED_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/android/arm64-v8a/libskshaper.a)
        set_property(TARGET skia_unicode PROPERTY IMPORTED_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/android/arm64-v8a/libskunicode.a)
        set_property(TARGET skia_resource PROPERTY IMPORTED_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/android/arm64-v8a/libskresources.a)
        set_property(TARGET libexpat PROPERTY IMPORTED_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/android/arm64-v8a/libexpat.a)
    endif()
elseif (apple)
    if (CMAKE_HOST_SYSTEM_PROCESSOR MATCHES "arm64")
        set_property(TARGET skia_base PROPERTY IMPORTED_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/apple/macOS-arm64/libskia.a)
    else()
        set_property(TARGET skia_base PROPERTY IMPORTED_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/apple/macos-x86_64/libskia.a)
    endif()
elseif (UNIX)
    set_property(TARGET skia_base PROPERTY IMPORTED_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/linux/clang-x86_64/libskia.a)
    set_property(TARGET skia_svg PROPERTY IMPORTED_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/linux/clang-x86_64/libsvg.a)
    set_property(TARGET skia_shader PROPERTY IMPORTED_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/linux/clang-x86_64/libskshaper.a)
    set_property(TARGET skia_unicode PROPERTY IMPORTED_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/linux/clang-x86_64/libskunicode.a)
    set_property(TARGET skia_resource PROPERTY IMPORTED_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/linux/clang-x86_64/libskresources.a)
endif()